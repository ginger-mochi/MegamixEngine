<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>sprBladeManSeeSawPlatform</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>prtEntity</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>event_inherited();
canHit = false;

isSolid = 2;
respawn = false;
blockCollision = 0;
grav = 0;
facePlayerOnSpawn = false;

respawnRange = -1;
despawnRange = -1;

phase = 0;

// 0 - default
// 1, 2 - moving down
// 3, 4 - moving up

xPosition = 1; // platform position: -1 = left; 1 = right
yPosition = 1; // platform position: -1 = up; 1 = down

yMin = 0; // upper ordinate value
yMax = 0; // lower ordinate value
canStep = false;

parent = noone;

// see saw center
xMain = 0;
yMain = 0;

centerShift = 0.00;
radiusSquare = 0;

// speed of see-saw
xspeedMain = 0;
yspeedMain = 0;

// speed of platforms
xspeedPlatform = 0;
yspeedPlatform = 0;

accel = 0.2;
mySpeedMax = 4;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (!canStep)
    exit;
event_inherited();
if (canStep)
{
    if (phase == 0)
    {
        if (yPosition == -1)
        {
            with (objMegaman)
            {
                if (place_meeting(x, y + 1, other.id) &amp;&amp; ground)
                {
                    if (!place_meeting(x, y, other.id))
                    {
                        other.phase = 0.75;
                    }
                }
            }
        }
    }
    if (phase &gt;= 0.75 &amp;&amp; phase &lt; 2)
    {
        phase += 0.25;
    }
    if (phase == 2) // Moving down
    {
        yspeedPlatform += accel;
        if (yspeedPlatform &gt; mySpeedMax)
            yspeedPlatform = mySpeedMax;
        
        if (xPosition == 1)
            xspeedPlatform = xMain + 1 + xPosition * sqrt(radiusSquare - power(yMain + centerShift - y - yspeedPlatform, 2)) - x;
        else
            xspeedPlatform = xMain + xPosition * sqrt(radiusSquare - power(yMain + centerShift - y - yspeedPlatform, 2)) - x;
        
        if (y &gt;= yMain + yMax)
        {
            // y = yMain + yMax;
            shiftObject((xMain + xPosition * sqrt(radiusSquare - power(yMain + centerShift - y, 2))) - x, (yMain + yMax) - y, false);
            phase = 0;
            yPosition = -yPosition;
            xspeedPlatform = 0;
            yspeedPlatform = 0;
            if (xPosition == 1)
                x += 1;
        }
    }
    
    if (phase &gt;= 3 &amp;&amp; phase &lt; 4)
        phase += 0.25;
    
    if (phase == 4) // Moving up
    {
        yspeedPlatform += -accel;
        if (yspeedPlatform &lt; -mySpeedMax)
        {
            yspeedPlatform = -mySpeedMax;
        }
        
        if (xPosition == 1)
            xspeedPlatform = xMain + 1 + xPosition * sqrt(radiusSquare - power(yMain + centerShift - y - yspeedPlatform, 2)) - x;
        else
            xspeedPlatform = xMain + xPosition * sqrt(radiusSquare - power(yMain + centerShift - y - yspeedPlatform, 2)) - x;
        
        if (y &lt;= yMain - yMin)
        {
            phase = 0;
            yPosition = -yPosition;
            shiftObject((xMain + xPosition * sqrt(radiusSquare - power(yMain + centerShift - y, 2))) - x, (yMain - yMin) - y, false);
            if (xPosition == 1)
                x += 1;
            xspeedPlatform = 0;
            yspeedPlatform = 0;
        }
    }
    
    xspeed = xspeedMain + xspeedPlatform;
    yspeed = yspeedMain + yspeedPlatform;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="25">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>event_inherited();
phase = 0;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="15">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Serialize instance variables.
/// This code was autogenerated by addSerialization.py

// Before editing manually, remove the following tag so that
// this event is not replaced when autogenerated again.

// @autogenerate

event_inherited();

if (global.stateCodecEncode)
{
    buffer_write(global.stateCodecBuffer, buffer_f32, accel);
    buffer_write(global.stateCodecBuffer, buffer_f32, canStep);
    buffer_write(global.stateCodecBuffer, buffer_f32, centerShift);
    buffer_write(global.stateCodecBuffer, buffer_f32, mySpeedMax);
    stateCodecPrimitiveEncode(parent);
    buffer_write(global.stateCodecBuffer, buffer_f32, phase);
    buffer_write(global.stateCodecBuffer, buffer_f32, radiusSquare);
    buffer_write(global.stateCodecBuffer, buffer_f32, xMain);
    buffer_write(global.stateCodecBuffer, buffer_f32, xPosition);
    buffer_write(global.stateCodecBuffer, buffer_f32, xspeedMain);
    buffer_write(global.stateCodecBuffer, buffer_f32, xspeedPlatform);
    buffer_write(global.stateCodecBuffer, buffer_f32, yMain);
    buffer_write(global.stateCodecBuffer, buffer_f32, yMax);
    buffer_write(global.stateCodecBuffer, buffer_f32, yMin);
    buffer_write(global.stateCodecBuffer, buffer_f32, yPosition);
    buffer_write(global.stateCodecBuffer, buffer_f32, yspeedMain);
    buffer_write(global.stateCodecBuffer, buffer_f32, yspeedPlatform);
}
else
{
    accel = buffer_read(global.stateCodecBuffer, buffer_f32);
    canStep = buffer_read(global.stateCodecBuffer, buffer_f32);
    centerShift = buffer_read(global.stateCodecBuffer, buffer_f32);
    mySpeedMax = buffer_read(global.stateCodecBuffer, buffer_f32);
    parent = stateCodecPrimitiveDecode();
    phase = buffer_read(global.stateCodecBuffer, buffer_f32);
    radiusSquare = buffer_read(global.stateCodecBuffer, buffer_f32);
    xMain = buffer_read(global.stateCodecBuffer, buffer_f32);
    xPosition = buffer_read(global.stateCodecBuffer, buffer_f32);
    xspeedMain = buffer_read(global.stateCodecBuffer, buffer_f32);
    xspeedPlatform = buffer_read(global.stateCodecBuffer, buffer_f32);
    yMain = buffer_read(global.stateCodecBuffer, buffer_f32);
    yMax = buffer_read(global.stateCodecBuffer, buffer_f32);
    yMin = buffer_read(global.stateCodecBuffer, buffer_f32);
    yPosition = buffer_read(global.stateCodecBuffer, buffer_f32);
    yspeedMain = buffer_read(global.stateCodecBuffer, buffer_f32);
    yspeedPlatform = buffer_read(global.stateCodecBuffer, buffer_f32);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var yShift = 0;
if (y - yMain &lt; 0)
    yShift = 1;
if (y - yMain &gt; 0)
    yShift = -1;

var xDiff = 9 * xPosition;
var yDiff = (y + 5 + yShift - yMain - 2 - 3 * (y - yMain - yMax) / (yMax + yMin)) / 3;

draw_sprite(sprBladeManSeeSawTether, 0, x, y + 5);
draw_sprite(sprBladeManSeeSawTether, 0, x - xDiff, y + 5 + yShift - yDiff);
draw_sprite(sprBladeManSeeSawTether, 0, x - 2 * xDiff, y + 5 + yShift - 2 * yDiff);

event_inherited();
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
