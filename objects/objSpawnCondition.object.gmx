<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>sprSpawnCondition</spriteName>
  <solid>0</solid>
  <visible>0</visible>
  <depth>-500</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//@cc if 0 beenOutsideView will be false if the object is not allowed to spawn
//@cc if 1 beenOutiseView will be true if the object is not allowed to spawn
despawnType = 0;

//@cc if different from -1 it will only affect entities with that faction
//@cc otherwise everything but players and player projectiles would be affected
faction = -1;

//@cc spawn if the player is closer than this distance on x. -1: doesn't matter. Measured from center.
playerXDistance = 80;

//@cc spawn if the player is closer than this distance on y. -1: doesn't matter. Measured from center.
playerYDistance = -1;

//@cc if this is non-empty, the above check will not take place and instead this
// code will be string_execute'd. It must set the local variable allowSpawn.
conditionCode = "";

//@cc if this script is set in creation code, all above conditions will be ignored
// and this script will run. The script should set allowSpawn.
conditionScript = scrNoEffect;

//@cc number of arguments
conditionScriptArgC = 0;

//@cc array containing arguments (will be cropped to `conditionScriptArgC`)
conditionScriptArgV = makeArray(0);

//@cc negate the spawn condition?
spawnConditionNegate = false;

// currently allowing spawn? (not for creation code)
allowSpawn = true;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="15">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Serialize instance variables.
/// This code was autogenerated by addSerialization.py

// Before editing manually, remove the following tag so that
// this event is not replaced when autogenerated again.

// @autogenerate

// This object has no parent, so it is responsible
// for encoding basic instance properties.
stateCodecInstance();

if (global.stateCodecEncode)
{
    buffer_write(global.stateCodecBuffer, buffer_f32, allowSpawn);
    buffer_write(global.stateCodecBuffer, buffer_string, conditionCode);
    stateCodecPrimitiveEncode(conditionScript);
    buffer_write(global.stateCodecBuffer, buffer_f32, conditionScriptArgC);
    stateCodecPrimitiveEncode(conditionScriptArgV);
    buffer_write(global.stateCodecBuffer, buffer_f32, despawnType);
    buffer_write(global.stateCodecBuffer, buffer_f32, faction);
    buffer_write(global.stateCodecBuffer, buffer_f32, playerXDistance);
    buffer_write(global.stateCodecBuffer, buffer_f32, playerYDistance);
    buffer_write(global.stateCodecBuffer, buffer_f32, spawnConditionNegate);
}
else
{
    allowSpawn = buffer_read(global.stateCodecBuffer, buffer_f32);
    conditionCode = buffer_read(global.stateCodecBuffer, buffer_string);
    conditionScript = stateCodecPrimitiveDecode();
    conditionScriptArgC = buffer_read(global.stateCodecBuffer, buffer_f32);
    conditionScriptArgV = stateCodecPrimitiveDecode();
    despawnType = buffer_read(global.stateCodecBuffer, buffer_f32);
    faction = buffer_read(global.stateCodecBuffer, buffer_f32);
    playerXDistance = buffer_read(global.stateCodecBuffer, buffer_f32);
    playerYDistance = buffer_read(global.stateCodecBuffer, buffer_f32);
    spawnConditionNegate = buffer_read(global.stateCodecBuffer, buffer_f32);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="10">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>allowSpawn = false;

if (conditionScript != scrNoEffect) // run script
{
    scriptExecuteNargs(conditionScript, conditionScriptArgV, conditionScriptArgC);
}
else if (string_length(conditionCode) &gt; 0)
{
    stringExecutePartial(conditionCode);
}
else
{
    allowSpawn = true;
    
    if (instance_exists(objMegaman))
    {
        with (objMegaman)
        {
            if ((abs(x - bboxGetXCenterObject(other)) &gt; other.playerXDistance) &amp;&amp; other.playerXDistance &gt; -1)
            {
                other.allowSpawn = false;
            }
            if ((abs(y - bboxGetYCenterObject(other)) &gt; other.playerYDistance) &amp;&amp; other.playerYDistance &gt; -1)
            {
                other.allowSpawn = false;
            }
        }
    }
    else
    {
        allowSpawn = false;
    }
}

allowSpawn ^= spawnConditionNegate;

show_debug_message(string(allowSpawn));
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
